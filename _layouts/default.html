<!doctype html>
<html lang='{{ site.lang | default: "en-US" }}'>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    {% seo %}

    <link rel="stylesheet" href="{{ '/assets/css/style.css?v=' | append: site.github.build_revision | relative_url }}">
    <link rel="stylesheet" href="{{ '/assets/css/custom.css' | relative_url }}">
    <link rel="stylesheet" href="{{ '/assets/css/dark-mode.css' | relative_url }}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <script src="{{ '/assets/js/scale.fix.js' | relative_url }}"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <title>{{ site.title }}</title>

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    {% include head-custom.html %}
</head>
<body>
<!-- Hamburger menu toggle (hidden checkbox) -->
<input type="checkbox" id="nav-toggle" class="nav-toggle" />

<div class="wrapper">
    <header {% unless site.description or site.github.project_tagline %} class="without-description" {% endunless %} >
        <!-- Hamburger menu button (visible only on small screens) -->
        <label for="nav-toggle" class="hamburger-menu">
            <span></span>
            <span></span>
            <span></span>
        </label>

        <img src="{{site.photo}}" style="position:absolute; right:45px; top:15px; border-radius: 50%; height:130px; z-index:100;" />
        <h1>{{ site.title | default: site.github.repository_name }}</h1>
        {% if site.description or site.github.project_tagline %}
        <p>{{ site.description | default: site.github.project_tagline }}</p>
        {% endif %}
        <div class="social-links">
            <a href="https://stackoverflow.com/users/yourid" target="_blank" class="stackoverflow" title="Stack Overflow"></a>
            <a href="https://linkedin.com/in/alcarraz" target="_blank" class="linkedin" title="LinkedIn"></a>
            <a href="https://github.com/alcarraz" target="_blank" class="github" title="GitHub"></a>
            <a href="mailto:alcarraz+blog@gmail.com" class="email" title="Email"></a>
        </div>
    </header>

    <section>

        {{ content }}

        {% if page.url != "/" and page.url contains ".html" %}
        <!-- Newsletter signup for blog posts -->
        <hr class="newsletter-separator">
        <div class="newsletter-box">
            <h3 class="newsletter-box__title">ðŸ“¬ Stay Updated</h3>
            <p class="newsletter-box__description">Subscribe to get notified when I publish new posts about jPOS, software engineering, and open source.</p>
            {% include mailchimp-subscribe-form.html layout="footer" %}
        </div>
        {% endif %}

        {% if page.url == "/" %}
        <h2>Blog Posts</h2>
        <ul>
          {% for post in site.posts %}
            <li>
              <a href="{{ post.url }}">{{ post.title }}</a>
              <span> - {{ post.date | date: "%B %d, %Y" }}</span>
            </li>
          {% endfor %}
        </ul>
        {% endif %}

    </section>

    <aside class="sidebar">
        <!-- Close button for mobile -->
        <label for="nav-toggle" class="sidebar-close">&times;</label>

        <nav class="site-nav">
            <h3>Navigation</h3>
            <ul>
                <li><a href="/">Home</a></li>
                <li><a href="/feed.xml" target="_blank"><i class="fas fa-rss"></i> RSS Feed</a></li>
            </ul>

            <h3>Subscribe</h3>
            {% include mailchimp-subscribe-form.html layout="sidebar" %}

            <h3>Blog Archive</h3>
            {% assign postsByYearMonth = site.posts | group_by_exp: "post", "post.date | date: '%Y-%m'" %}
            <ul class="blog-archive">
                {% for year_month in postsByYearMonth %}
                    {% assign year = year_month.name | slice: 0, 4 %}
                    {% assign month_num = year_month.name | slice: 5, 2 %}
                    {% assign month_date = year_month.name | append: "-01" | date: "%B" %}
                    <li>
                        <details open>
                            <summary>{{ month_date }} {{ year }} ({{ year_month.items | size }})</summary>
                            <ul>
                                {% for post in year_month.items %}
                                <li>
                                    <a href="{{ post.url }}">{{ post.title }}</a>
                                    <span class="post-date">{{ post.date | date: "%b %d" }}</span>
                                </li>
                                {% endfor %}
                            </ul>
                        </details>
                    </li>
                {% endfor %}
            </ul>
        </nav>
    </aside>

    <!-- Backdrop overlay for mobile menu -->
    <label for="nav-toggle" class="sidebar-backdrop"></label>
</div>
{% if site.github.is_project_page %}
<footer>
    <p>Project maintained by <a href="{{ site.github.owner_url }}">{{ site.github.owner_name }}</a></p>
<!--    <p>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></p>-->
</footer>
{% endif %}
<!--[if !IE]><script>fixScale(document);</script><![endif]-->
</body>
</html>
